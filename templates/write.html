<!DOCTYPE html>
<html lang="en" xmlns:value="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Today's Mood_Write</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>





    <!-- datepicker 는 jquery 1.7.1 이상 bootstrap 2.0.4 이상 버전이 필요함 -->
    <!-- jQuery가 먼저 로드 된 후 datepicker가 로드 되어야함.-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="resources/css/plugin/datepicker/bootstrap-datepicker.css">

    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="resources/js/plugin/datepicker/bootstrap-datepicker.js"></script>


    <script>
        function posting() {

            let mood = $('#mood').val()
            let weather = $('#weather').val()
            let content = $('#content').val()
            let date = $('#date').val()
            $.ajax({
                    type: "POST",
                    url: "/write",
                    data: {
                        content_give : content,
                        mood_give : mood,
                        weather_give : weather,
                        date_give : date
                    },
                    success: function (response) {
                        if (response['result'] == 'success') {
                            alert('포스팅 완료!')
                            window.location.href = '/main'
                        }
                    }
                })
            }


        $('#currentDate').change(function (){
            let date = $('#currentDate').val();
            alert(date);
        });
    </script>

    <style>
        select {
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
        }

        option {
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
        }
    </style>
</head>
<body>
<header>
    <div class="home">
        <h1>TODAY'S MOOD</h1>
    </div>
</header>
<section>
    <div class="part1">
        <form method="post" id="frm">
            <table>
                <caption>WHAT'S YOUR MOOD TODAY</caption>
                <tr>
                    <th>
                        DATE
                    </th>
                    <td>
                        <input type="date" id="date"/>
                    </td>
                </tr>
                <tr>
                    <th>
                        MOOD
                    </th>
                    <td>
                        <select class="emo" id="mood">
                            <option value="happy">HAPPY</option>
                            <option value="sad">SAD</option>
                            <option value="angry">ANGRY</option>
                            <option value="board">BOARD</option>
                            <option value="exciting">EXCITING</option>
                            <option value="so_so">SO SO</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>
                        WEATHER
                    </th>
                    <td>
                        <select class="weather" id="weather">
                            <option value="sunny">&#xf6d5 SUNNY</option>
                            <option value="foggy">&#xf005 FOGGY</option>
                            <option value="rainy">RAINY</option>
                            <option value="cloudy">CLOUDY</option>
                            <option value="snowy">SNOWY</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>
                        CONTENT
                    </th>
                    <td>
                        <textarea cols="50" rows="30" id="content"> </textarea>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="submit" onclick="posting()"> 저장 </button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</section>
<footer>
    <h6>

    </h6>
</footer>
</body>
</html>